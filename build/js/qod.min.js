!function(o){o(function(){let e="";o("#newQuoteButton").on("click",function(t){t.preventDefault(),e=document.URL,o.ajax({method:"get",url:qod_vars.rest_url+"/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){const t=e[0];history.pushState(null,null,qod_vars.home_url+"/"+t.slug),o("#entryContent").html(t.excerpt.rendered),o("#entryMeta").html("â€” "+t.title.rendered),t._qod_quote_source_url&&t._qod_quote_source&&o("#entryMeta").append(`<a href=" ${t._qod_quote_source_url}"><span> , </span>${t._qod_quote_source}</a>`)}).fail(function(o){console.log("an error occurred",o)}),o(window).on("popstate",function(){window.location.replace(e)})}),o("#quoteSubmissionForm").on("submit",function(e){e.preventDefault();const t={title:o("#quoteAuthor").val(),content:o("#quote").val(),_qod_quote_source_url:o("#quote-location").val(),_qod_quote_source:o("quote-url").val()};console.log(t),o.ajax({method:"post",url:`${qod_vars.rest_url}wp/v2/posts/`,data:t,beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(e){console.log(e),o("#quoteSubmissionForm").slideUp(function(){o("#submitSuccessMessage").append("<p>Thank you for submitting your quote!</p>"),o("#submitSuccessMessage").show()})}).fail(function(){alert("There is a problem! Please try again or contact your local administrator.")})})})}(jQuery);